<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>XRPLib - MicroPython 2.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="static/classic.css?v=2bf1fcf8" />
    
    <script src="static/documentation_options.js?v=2fee7bf2"></script>
    <script src="static/doctools.js?v=9bcbadda"></script>
    <script src="static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="icon" href="static/xrplogo.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="#">XRPLib - MicroPython 2.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">XRPLib - MicroPython 2.0.0 documentation</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="xrplib-table-of-contents">
<h1>XRPLib - Table of Contents<a class="headerlink" href="#xrplib-table-of-contents" title="Link to this heading">¶</a></h1>
<a class="reference internal image-reference" href="images/xrp-robot.jpg"><img alt="images/xrp-robot.jpg" src="images/xrp-robot.jpg" style="width: 50%;" />
</a>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
<span id="document-api"></span><section id="module-XRPLib">
<span id="api-reference"></span><h2>API Reference<a class="headerlink" href="#module-XRPLib" title="Link to this heading">¶</a></h2>
<section id="hardware">
<h3>Hardware<a class="headerlink" href="#hardware" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="XRPLib.motor.SinglePWMMotor">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">XRPLib.motor.</span></span><span class="sig-name descname"><span class="pre">SinglePWMMotor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in1_direction_pin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">in2_speed_pin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">flip_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor.SinglePWMMotor" title="Link to this definition">¶</a></dt>
<dd><p>A simple class handling direction and power sets for DC motors on the XRP robots</p>
<p>This version is used for the XRP Beta, which uses the rp2040 processor</p>
<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor.SinglePWMMotor.brake">
<span class="sig-name descname"><span class="pre">brake</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor.SinglePWMMotor.brake" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor.SinglePWMMotor.coast">
<span class="sig-name descname"><span class="pre">coast</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor.SinglePWMMotor.coast" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor.SinglePWMMotor.set_effort">
<span class="sig-name descname"><span class="pre">set_effort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">effort</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor.SinglePWMMotor.set_effort" title="Link to this definition">¶</a></dt>
<dd><p>Sets the effort value of the motor (corresponds to power)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>effort</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – The effort to set the motor to, between -1 and 1</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="XRPLib.motor.DualPWMMotor">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">XRPLib.motor.</span></span><span class="sig-name descname"><span class="pre">DualPWMMotor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in1_pwm_forward</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">in2_pwm_backward</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">flip_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor.DualPWMMotor" title="Link to this definition">¶</a></dt>
<dd><p>A simple class handling effort setting for DC motors on the XRP robots</p>
<p>This version of the Motor class is used for the official release of the XRP</p>
<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor.DualPWMMotor.brake">
<span class="sig-name descname"><span class="pre">brake</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor.DualPWMMotor.brake" title="Link to this definition">¶</a></dt>
<dd><p>Powers the motor in both directions at the same time, enabling it to hold position</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor.DualPWMMotor.coast">
<span class="sig-name descname"><span class="pre">coast</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor.DualPWMMotor.coast" title="Link to this definition">¶</a></dt>
<dd><p>Disables the motor in both directions at the same time, enabling it to spin freely</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor.DualPWMMotor.set_effort">
<span class="sig-name descname"><span class="pre">set_effort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">effort</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor.DualPWMMotor.set_effort" title="Link to this definition">¶</a></dt>
<dd><p>Sets the effort value of the motor (corresponds to power)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>effort</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – The effort to set the motor to, between -1 and 1</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">XRPLib.encoded_motor.</span></span><span class="sig-name descname"><span class="pre">EncodedMotor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">motor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#document-api#XRPLib.encoder.Encoder" title="XRPLib.encoder.Encoder"><span class="pre">Encoder</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor" title="Link to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor.ZERO_EFFORT_BREAK">
<span class="sig-name descname"><span class="pre">ZERO_EFFORT_BREAK</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor.ZERO_EFFORT_BREAK" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor.ZERO_EFFORT_COAST">
<span class="sig-name descname"><span class="pre">ZERO_EFFORT_COAST</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor.ZERO_EFFORT_COAST" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor.brake">
<span class="sig-name descname"><span class="pre">brake</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor.brake" title="Link to this definition">¶</a></dt>
<dd><p>Causes the motor to resist rotation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor.coast">
<span class="sig-name descname"><span class="pre">coast</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor.coast" title="Link to this definition">¶</a></dt>
<dd><p>Allows the motor to spin freely.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor.get_default_encoded_motor">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_default_encoded_motor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor.get_default_encoded_motor" title="Link to this definition">¶</a></dt>
<dd><p>Get one of the default XRP motor instances. These are singletons, so only one instance of each of these will ever exist.
Raises an exception if an invalid index is requested.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The index of the motor to get; 1 for left, 2 for right, 3 for motor 3, 4 for motor 4</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor.get_position">
<span class="sig-name descname"><span class="pre">get_position</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor.get_position" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The position of the encoded motor, in revolutions, relative to the last time reset was called.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor.get_position_counts">
<span class="sig-name descname"><span class="pre">get_position_counts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></span><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor.get_position_counts" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The position of the encoded motor, in encoder counts, relative to the last time reset was called.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor.get_speed">
<span class="sig-name descname"><span class="pre">get_speed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor.get_speed" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The speed of the motor, in rpm</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor.reset_encoder_position">
<span class="sig-name descname"><span class="pre">reset_encoder_position</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor.reset_encoder_position" title="Link to this definition">¶</a></dt>
<dd><p>Resets the encoder position back to zero.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor.set_effort">
<span class="sig-name descname"><span class="pre">set_effort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">effort</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor.set_effort" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>effort</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – The effort to set this motor to, from -1 to 1</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor.set_speed">
<span class="sig-name descname"><span class="pre">set_speed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">speed_rpm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor.set_speed" title="Link to this definition">¶</a></dt>
<dd><p>Sets target speed (in rpm) to be maintained passively
Call with no parameters or 0 to turn off speed control</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>target_speed_rpm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, or </em><em>None</em>) – The target speed for the motor in rpm, or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor.set_speed_controller">
<span class="sig-name descname"><span class="pre">set_speed_controller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_controller</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#document-api#XRPLib.controller.Controller" title="XRPLib.controller.Controller"><span class="pre">Controller</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor.set_speed_controller" title="Link to this definition">¶</a></dt>
<dd><p>Sets a new controller for speed control</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_controller</strong> (<a class="reference internal" href="#document-api#XRPLib.controller.Controller" title="XRPLib.controller.Controller"><em>Controller</em></a>) – The new Controller for speed control</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoded_motor.EncodedMotor.set_zero_effort_behavior">
<span class="sig-name descname"><span class="pre">set_zero_effort_behavior</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">brake_at_zero_effort</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.encoded_motor.EncodedMotor.set_zero_effort_behavior" title="Link to this definition">¶</a></dt>
<dd><p>Sets the behavior of the motor at 0 effort to either brake (hold position) or coast (free spin)
:param brake_at_zero_effort: Whether or not to brake at 0 effort. Can use EncodedMotor.ZERO_EFFORT_BREAK or EncodedMotor.ZERO_EFFORT_COAST for clarity.
:type brake_at_zero_effort: bool</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="XRPLib.motor_group.MotorGroup">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">XRPLib.motor_group.</span></span><span class="sig-name descname"><span class="pre">MotorGroup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">motors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#document-api#XRPLib.encoded_motor.EncodedMotor" title="XRPLib.encoded_motor.EncodedMotor"><span class="pre">EncodedMotor</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor_group.MotorGroup" title="Link to this definition">¶</a></dt>
<dd><p>A wrapper class for multiple motors, allowing them to be treated as one motor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>motors</strong> (<em>tuple&lt;EncodedMotor&gt;</em>) – The motors to add to this group</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor_group.MotorGroup.add_motor">
<span class="sig-name descname"><span class="pre">add_motor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">motor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#document-api#XRPLib.encoded_motor.EncodedMotor" title="XRPLib.encoded_motor.EncodedMotor"><span class="pre">EncodedMotor</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor_group.MotorGroup.add_motor" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>motor</strong> (<a class="reference internal" href="#document-api#XRPLib.encoded_motor.EncodedMotor" title="XRPLib.encoded_motor.EncodedMotor"><em>EncodedMotor</em></a>) – The motor to add to this group</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor_group.MotorGroup.get_position">
<span class="sig-name descname"><span class="pre">get_position</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="headerlink" href="#XRPLib.motor_group.MotorGroup.get_position" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The average position of all motors in this group, in revolutions, relative to the last time reset was called.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor_group.MotorGroup.get_position_counts">
<span class="sig-name descname"><span class="pre">get_position_counts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></span><a class="headerlink" href="#XRPLib.motor_group.MotorGroup.get_position_counts" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The average position of all motors in this group, in encoder counts, relative to the last time reset was called.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor_group.MotorGroup.get_speed">
<span class="sig-name descname"><span class="pre">get_speed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="headerlink" href="#XRPLib.motor_group.MotorGroup.get_speed" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The average speed of the motors, in rpm</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor_group.MotorGroup.remove_motor">
<span class="sig-name descname"><span class="pre">remove_motor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">motor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#document-api#XRPLib.encoded_motor.EncodedMotor" title="XRPLib.encoded_motor.EncodedMotor"><span class="pre">EncodedMotor</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor_group.MotorGroup.remove_motor" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>motor</strong> (<a class="reference internal" href="#document-api#XRPLib.encoded_motor.EncodedMotor" title="XRPLib.encoded_motor.EncodedMotor"><em>EncodedMotor</em></a>) – The motor to remove from this group</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor_group.MotorGroup.reset_encoder_position">
<span class="sig-name descname"><span class="pre">reset_encoder_position</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor_group.MotorGroup.reset_encoder_position" title="Link to this definition">¶</a></dt>
<dd><p>Resets the encoder position of all motors in this group back to zero.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor_group.MotorGroup.set_effort">
<span class="sig-name descname"><span class="pre">set_effort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">effort</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor_group.MotorGroup.set_effort" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>effort</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – The effort to set all motors in this group to, from -1 to 1</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor_group.MotorGroup.set_speed">
<span class="sig-name descname"><span class="pre">set_speed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_speed_rpm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor_group.MotorGroup.set_speed" title="Link to this definition">¶</a></dt>
<dd><p>Sets target speed (in rpm) to be maintained passively by all motors in this group
Call with no parameters to turn off speed control</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>target_speed_rpm</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>, or </em><em>None</em>) – The target speed for these motors in rpm, or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.motor_group.MotorGroup.set_speed_controller">
<span class="sig-name descname"><span class="pre">set_speed_controller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_controller</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.motor_group.MotorGroup.set_speed_controller" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_controller</strong> (<a class="reference internal" href="#document-api#XRPLib.controller.Controller" title="XRPLib.controller.Controller"><em>Controller</em></a>) – The new Controller for speed control</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="XRPLib.servo.Servo">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">XRPLib.servo.</span></span><span class="sig-name descname"><span class="pre">Servo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal_pin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.servo.Servo" title="Link to this definition">¶</a></dt>
<dd><p>A simple class for interacting with a servo through PWM</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>signal_pin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The pin the servo is connected to</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.servo.Servo.free">
<span class="sig-name descname"><span class="pre">free</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.servo.Servo.free" title="Link to this definition">¶</a></dt>
<dd><p>Allows the servo to spin freely without holding position</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.servo.Servo.get_default_servo">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_default_servo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.servo.Servo.get_default_servo" title="Link to this definition">¶</a></dt>
<dd><p>Gets one of the default XRP servo instances. These are singletons, so only one instance of each servo will ever exist.
Raises an exception if an invalid index is requested.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The index of the servo to get (1-4; Beta only has 1 and 2)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.servo.Servo.set_angle">
<span class="sig-name descname"><span class="pre">set_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">degrees</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.servo.Servo.set_angle" title="Link to this definition">¶</a></dt>
<dd><p>Sets the angle of the servo
:param degrees: The angle to set the servo to [0,200]
:ptype degrees: float</p>
</dd></dl>

</dd></dl>

</section>
<section id="sensors">
<h3>Sensors<a class="headerlink" href="#sensors" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="XRPLib.encoder.Encoder">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">XRPLib.encoder.</span></span><span class="sig-name descname"><span class="pre">Encoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encAPin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">encBPin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.encoder.Encoder" title="Link to this definition">¶</a></dt>
<dd><p>Uses the on board PIO State Machine to keep track of encoder positions.
Only 4 encoders can be instantiated this way.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The index of the state machine to be used, indexed 0-3.</p></li>
<li><p><strong>encAPin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The pin the left reflectance sensor is connected to</p></li>
<li><p><strong>encBPin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The pin the right reflectance sensor is connected to</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoder.Encoder.get_position">
<span class="sig-name descname"><span class="pre">get_position</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.encoder.Encoder.get_position" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The position of the encoded motor, in revolutions, relative to the last time reset was called.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoder.Encoder.get_position_counts">
<span class="sig-name descname"><span class="pre">get_position_counts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.encoder.Encoder.get_position_counts" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The position of the encoded motor, in counts, relative to the last time reset was called.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.encoder.Encoder.reset_encoder_position">
<span class="sig-name descname"><span class="pre">reset_encoder_position</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.encoder.Encoder.reset_encoder_position" title="Link to this definition">¶</a></dt>
<dd><p>Resets the encoder position to 0</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="XRPLib.encoder.Encoder.resolution">
<span class="sig-name descname"><span class="pre">resolution</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">585.0</span></em><a class="headerlink" href="#XRPLib.encoder.Encoder.resolution" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="XRPLib.rangefinder.Rangefinder">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">XRPLib.rangefinder.</span></span><span class="sig-name descname"><span class="pre">Rangefinder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trigger_pin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'RANGE_TRIGGER'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">echo_pin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'RANGE_ECHO'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout_us</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">500</span> <span class="pre">*</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">30</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.rangefinder.Rangefinder" title="Link to this definition">¶</a></dt>
<dd><p>A basic class for using the HC-SR04 Ultrasonic Rangefinder.
The sensor range is between 2cm and 4m.
Timeouts will return a MAX_VALUE (65535) instead of raising an exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trigger_pin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The number of the pin on the microcontroller that’s connected to the <code class="docutils literal notranslate"><span class="pre">Trig</span></code> pin on the HC-SR04.</p></li>
<li><p><strong>echo_pin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The number of the pin on the microcontroller that’s connected to the <code class="docutils literal notranslate"><span class="pre">Echo</span></code> pin on the HC-SR04.</p></li>
<li><p><strong>timeout_us</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – Max microseconds seconds to wait for a response from the sensor before assuming it isn’t going to answer. By default set to 30,000 us (0.03 s)</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.rangefinder.Rangefinder.distance">
<span class="sig-name descname"><span class="pre">distance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="headerlink" href="#XRPLib.rangefinder.Rangefinder.distance" title="Link to this definition">¶</a></dt>
<dd><p>Get the distance in centimeters by measuring the echo pulse time</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.rangefinder.Rangefinder.get_default_rangefinder">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_default_rangefinder</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.rangefinder.Rangefinder.get_default_rangefinder" title="Link to this definition">¶</a></dt>
<dd><p>Get the default XRP rangefinder instance. This is a singleton, so only one instance of the rangefinder will ever exist.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="XRPLib.reflectance.Reflectance">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">XRPLib.reflectance.</span></span><span class="sig-name descname"><span class="pre">Reflectance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leftPin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'LINE_L'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rightPin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'LINE_R'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.reflectance.Reflectance" title="Link to this definition">¶</a></dt>
<dd><p>Implements for a reflectance sensor using the built in 12-bit ADC.
Reads from analog in and converts to a float from 0 (white) to 1 (black)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>leftPin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The pin the left reflectance sensor is connected to</p></li>
<li><p><strong>rightPin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a>) – The pin the right reflectance sensor is connected to</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.reflectance.Reflectance.get_default_reflectance">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_default_reflectance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.reflectance.Reflectance.get_default_reflectance" title="Link to this definition">¶</a></dt>
<dd><p>Get the default XRP reflectance sensor instance. This is a singleton, so only one instance of the reflectance sensor will ever exist.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.reflectance.Reflectance.get_left">
<span class="sig-name descname"><span class="pre">get_left</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="headerlink" href="#XRPLib.reflectance.Reflectance.get_left" title="Link to this definition">¶</a></dt>
<dd><p>Gets the the reflectance of the left reflectance sensor
: return: The reflectance ranging from 0 (white) to 1 (black)
: rtype: float</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.reflectance.Reflectance.get_right">
<span class="sig-name descname"><span class="pre">get_right</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="headerlink" href="#XRPLib.reflectance.Reflectance.get_right" title="Link to this definition">¶</a></dt>
<dd><p>Gets the the reflectance of the right reflectance sensor
: return: The reflectance ranging from 0 (white) to 1 (black)
: rtype: float</p>
</dd></dl>

</dd></dl>

</section>
<section id="miscellaneous">
<h3>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="XRPLib.controller.Controller">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">XRPLib.controller.</span></span><span class="sig-name descname"><span class="pre">Controller</span></span><a class="headerlink" href="#XRPLib.controller.Controller" title="Link to this definition">¶</a></dt>
<dd><p>An abstract class to be entended to demonstrate different types of control. A PID subclass has also been provided</p>
<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.controller.Controller.clear_history">
<span class="sig-name descname"><span class="pre">clear_history</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.controller.Controller.clear_history" title="Link to this definition">¶</a></dt>
<dd><p>Clears all past data, such as integral sums or any other previous data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.controller.Controller.is_done">
<span class="sig-name descname"><span class="pre">is_done</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#XRPLib.controller.Controller.is_done" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the controller has reached or  settled at its desired value</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.controller.Controller.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="headerlink" href="#XRPLib.controller.Controller.update" title="Link to this definition">¶</a></dt>
<dd><p>Handle a new update of this control loop given an effected input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>error</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – The input to this controller for a given update. Usually an error or some other correctable value</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The system output from the controller, to be used as an effort value or for any other purpose</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="XRPLib.pid.PID">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">XRPLib.pid.</span></span><span class="sig-name descname"><span class="pre">PID</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ki</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_derivative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_integral</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.pid.PID" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#XRPLib.controller.Controller" title="XRPLib.controller.Controller"><code class="xref py py-class docutils literal notranslate"><span class="pre">Controller</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kp</strong> – proportional gain</p></li>
<li><p><strong>ki</strong> – integral gain</p></li>
<li><p><strong>kd</strong> – derivative gain</p></li>
<li><p><strong>min_output</strong> – minimum output</p></li>
<li><p><strong>max_output</strong> – maximum output</p></li>
<li><p><strong>max_derivative</strong> – maximum derivative (change per second)</p></li>
<li><p><strong>max_integral</strong> – maximum integral windup allowed (will cap integral at this value)</p></li>
<li><p><strong>tolerance</strong> – tolerance for exit condition</p></li>
<li><p><strong>tolerance_count</strong> – number of times the error needs to be within tolerance for is_done to return True</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.pid.PID.clear_history">
<span class="sig-name descname"><span class="pre">clear_history</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.pid.PID.clear_history" title="Link to this definition">¶</a></dt>
<dd><p>Clears all past data, such as integral sums or any other previous data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.pid.PID.is_done">
<span class="sig-name descname"><span class="pre">is_done</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="headerlink" href="#XRPLib.pid.PID.is_done" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>if error is within tolerance for numTimesInTolerance consecutive times, or timed out</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.pid.PID.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></span><a class="headerlink" href="#XRPLib.pid.PID.update" title="Link to this definition">¶</a></dt>
<dd><p>Handle a new update of this PID loop given an error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>error</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – The error of the system being controlled by this PID controller</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The system output from the controller, to be used as an effort value or for any other purpose</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)">float</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="XRPLib.timeout.Timeout">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">XRPLib.timeout.</span></span><span class="sig-name descname"><span class="pre">Timeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.timeout.Timeout" title="Link to this definition">¶</a></dt>
<dd><p>Starts a timer that will expire after the given timeout.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – The timeout, in seconds</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.timeout.Timeout.is_done">
<span class="sig-name descname"><span class="pre">is_done</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.timeout.Timeout.is_done" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the timeout has expired, False otherwise</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="XRPLib.webserver.Webserver">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">XRPLib.webserver.</span></span><span class="sig-name descname"><span class="pre">Webserver</span></span><a class="headerlink" href="#XRPLib.webserver.Webserver" title="Link to this definition">¶</a></dt>
<dd><p>Host a webserver for the XRP v2 Robot; Register your own callbacks and log your own data to the webserver using the methods below.</p>
<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.webserver.Webserver.add_button">
<span class="sig-name descname"><span class="pre">add_button</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">button_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.webserver.Webserver.add_button" title="Link to this definition">¶</a></dt>
<dd><p>Register a custom button to be displayed on the webserver</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>button_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The label for the button as it will be displayed, must be unique</p></li>
<li><p><strong>function</strong> (<em>function</em>) – The function to be called when the button is pressed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.webserver.Webserver.connect_to_network">
<span class="sig-name descname"><span class="pre">connect_to_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ssid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.webserver.Webserver.connect_to_network" title="Link to this definition">¶</a></dt>
<dd><p>Connect to a wifi network with the given ssid and password.
If the connection fails, the board will disconnect from the network and return.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ssid</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The ssid of the network, defaults to value from secrets.json</p></li>
<li><p><strong>password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The password of the network, defaults to value from secrets.json</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – The amount of time to wait for the connection to succeed, defaults to 10</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.webserver.Webserver.get_default_webserver">
<em class="property"><span class="k"><span class="pre">classmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_default_webserver</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.webserver.Webserver.get_default_webserver" title="Link to this definition">¶</a></dt>
<dd><p>Get the default webserver instance. This is a singleton, so only one instance of the webserver will ever exist.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.webserver.Webserver.log_data">
<span class="sig-name descname"><span class="pre">log_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.webserver.Webserver.log_data" title="Link to this definition">¶</a></dt>
<dd><p>Register a custom label to be displayed on the webserver</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The label as it will be displayed, must be unique</p></li>
<li><p><strong>data</strong> (<em>Any</em><em> (</em><em>converted to string</em><em>)</em>) – The data to be displayed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.webserver.Webserver.registerBackwardButton">
<span class="sig-name descname"><span class="pre">registerBackwardButton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.webserver.Webserver.registerBackwardButton" title="Link to this definition">¶</a></dt>
<dd><p>Assign a function to the backward button</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>function</strong> (<em>function</em>) – The function to be called when the button is pressed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.webserver.Webserver.registerForwardButton">
<span class="sig-name descname"><span class="pre">registerForwardButton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.webserver.Webserver.registerForwardButton" title="Link to this definition">¶</a></dt>
<dd><p>Assign a function to the forward button</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>function</strong> (<em>function</em>) – The function to be called when the button is pressed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.webserver.Webserver.registerLeftButton">
<span class="sig-name descname"><span class="pre">registerLeftButton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.webserver.Webserver.registerLeftButton" title="Link to this definition">¶</a></dt>
<dd><p>Assign a function to the left button</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>function</strong> (<em>function</em>) – The function to be called when the button is pressed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.webserver.Webserver.registerRightButton">
<span class="sig-name descname"><span class="pre">registerRightButton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.webserver.Webserver.registerRightButton" title="Link to this definition">¶</a></dt>
<dd><p>Assign a function to the right button</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>function</strong> (<em>function</em>) – The function to be called when the button is pressed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.webserver.Webserver.registerStopButton">
<span class="sig-name descname"><span class="pre">registerStopButton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.webserver.Webserver.registerStopButton" title="Link to this definition">¶</a></dt>
<dd><p>Assign a function to the stop</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>function</strong> (<em>function</em>) – The function to be called when the button is pressed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.webserver.Webserver.start_network">
<span class="sig-name descname"><span class="pre">start_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ssid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">robot_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.webserver.Webserver.start_network" title="Link to this definition">¶</a></dt>
<dd><p>Open an access point from the XRP board to be used as a captive host. The default network information can be set in secrets.json</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ssid</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The ssid of the access point, defaults to value from secrets.json</p></li>
<li><p><strong>robot_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>, </em><em>optional</em>) – Replaces “{robot_id}” in ssid, defaults to value from secrets.json</p></li>
<li><p><strong>password</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>, </em><em>optional</em>) – The password of the access point, defaults to value from secrets.json</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.webserver.Webserver.start_server">
<span class="sig-name descname"><span class="pre">start_server</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.webserver.Webserver.start_server" title="Link to this definition">¶</a></dt>
<dd><p>Begin the webserver in either access point or bridge mode. The IP is printed to the console.</p>
<p>Preconditions: Either start_network or connect_to_network must be called before this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="XRPLib.webserver.Webserver.stop_server">
<span class="sig-name descname"><span class="pre">stop_server</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#XRPLib.webserver.Webserver.stop_server" title="Link to this definition">¶</a></dt>
<dd><p>Shuts off the webserver and network and stops handling requests</p>
</dd></dl>

</dd></dl>

</section>
</section>
<span id="document-defaults"></span><section id="xrplib-defaults">
<h2>XRPLib.defaults<a class="headerlink" href="#xrplib-defaults" title="Link to this heading">¶</a></h2>
<p>In addition to you being able to construct any of the classes in XRPLib by
themselves, you are also able to import all of the default objects needed for
normal robot operations, using just one line.</p>
<p>By running <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">XRPLib.defaults</span> <span class="pre">import</span> <span class="pre">*</span></code>, you import all of the
pre-constructed objects, as specified and named below:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">../XRPLib/defaults.py</span><a class="headerlink" href="#id1" title="Link to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">.board</span><span class="w"> </span><span class="kn">import</span> <span class="n">Board</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">.differential_drive</span><span class="w"> </span><span class="kn">import</span> <span class="n">DifferentialDrive</span>
<span class="linenos"> 3</span><span class="kn">from</span><span class="w"> </span><span class="nn">.motor</span><span class="w"> </span><span class="kn">import</span> <span class="n">SinglePWMMotor</span><span class="p">,</span> <span class="n">DualPWMMotor</span>
<span class="linenos"> 4</span><span class="kn">from</span><span class="w"> </span><span class="nn">.encoder</span><span class="w"> </span><span class="kn">import</span> <span class="n">Encoder</span>
<span class="linenos"> 5</span><span class="kn">from</span><span class="w"> </span><span class="nn">.encoded_motor</span><span class="w"> </span><span class="kn">import</span> <span class="n">EncodedMotor</span>
<span class="linenos"> 6</span><span class="kn">from</span><span class="w"> </span><span class="nn">.rangefinder</span><span class="w"> </span><span class="kn">import</span> <span class="n">Rangefinder</span>
<span class="linenos"> 7</span><span class="kn">from</span><span class="w"> </span><span class="nn">.imu</span><span class="w"> </span><span class="kn">import</span> <span class="n">IMU</span>
<span class="linenos"> 8</span><span class="kn">from</span><span class="w"> </span><span class="nn">.reflectance</span><span class="w"> </span><span class="kn">import</span> <span class="n">Reflectance</span>
<span class="linenos"> 9</span><span class="kn">from</span><span class="w"> </span><span class="nn">.servo</span><span class="w"> </span><span class="kn">import</span> <span class="n">Servo</span>
<span class="linenos">10</span><span class="kn">from</span><span class="w"> </span><span class="nn">.webserver</span><span class="w"> </span><span class="kn">import</span> <span class="n">Webserver</span>
<span class="linenos">11</span><span class="kn">from</span><span class="w"> </span><span class="nn">machine</span><span class="w"> </span><span class="kn">import</span> <span class="n">Pin</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">14</span><span class="sd">A simple file that constructs all of the default objects for the XRP robot</span>
<span class="linenos">15</span><span class="sd">Run &quot;from XRPLib.defaults import *&quot; to use</span>
<span class="linenos">16</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="n">left_motor</span> <span class="o">=</span> <span class="n">EncodedMotor</span><span class="o">.</span><span class="n">get_default_encoded_motor</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">19</span><span class="n">right_motor</span> <span class="o">=</span> <span class="n">EncodedMotor</span><span class="o">.</span><span class="n">get_default_encoded_motor</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">20</span><span class="n">motor_three</span> <span class="o">=</span> <span class="n">EncodedMotor</span><span class="o">.</span><span class="n">get_default_encoded_motor</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">21</span><span class="n">motor_four</span> <span class="o">=</span> <span class="n">EncodedMotor</span><span class="o">.</span><span class="n">get_default_encoded_motor</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="linenos">22</span><span class="n">imu</span> <span class="o">=</span> <span class="n">IMU</span><span class="o">.</span><span class="n">get_default_imu</span><span class="p">()</span>
<span class="linenos">23</span><span class="n">drivetrain</span> <span class="o">=</span> <span class="n">DifferentialDrive</span><span class="o">.</span><span class="n">get_default_differential_drive</span><span class="p">()</span>
<span class="linenos">24</span><span class="n">rangefinder</span> <span class="o">=</span> <span class="n">Rangefinder</span><span class="o">.</span><span class="n">get_default_rangefinder</span><span class="p">()</span>
<span class="linenos">25</span><span class="n">reflectance</span> <span class="o">=</span> <span class="n">Reflectance</span><span class="o">.</span><span class="n">get_default_reflectance</span><span class="p">()</span>
<span class="linenos">26</span><span class="n">servo_one</span> <span class="o">=</span> <span class="n">Servo</span><span class="o">.</span><span class="n">get_default_servo</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">27</span><span class="n">servo_two</span> <span class="o">=</span> <span class="n">Servo</span><span class="o">.</span><span class="n">get_default_servo</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="linenos">28</span><span class="n">webserver</span> <span class="o">=</span> <span class="n">Webserver</span><span class="o">.</span><span class="n">get_default_webserver</span><span class="p">()</span>
<span class="linenos">29</span><span class="n">board</span> <span class="o">=</span> <span class="n">Board</span><span class="o">.</span><span class="n">get_default_board</span><span class="p">()</span>
<span class="linenos">30</span>
<span class="linenos">31</span><span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">Pin</span><span class="o">.</span><span class="n">board</span><span class="p">,</span> <span class="s2">&quot;SERVO_3&quot;</span><span class="p">):</span>
<span class="linenos">32</span>    <span class="n">servo_three</span> <span class="o">=</span> <span class="n">Servo</span><span class="o">.</span><span class="n">get_default_servo</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">33</span><span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">Pin</span><span class="o">.</span><span class="n">board</span><span class="p">,</span> <span class="s2">&quot;SERVO_4&quot;</span><span class="p">):</span>
<span class="linenos">34</span>    <span class="n">servo_four</span> <span class="o">=</span> <span class="n">Servo</span><span class="o">.</span><span class="n">get_default_servo</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We use this import in most of the curriculum and example programs,
which is why you will often see the DifferentialDrive class refered to as
just “drivetrain”.</p>
<p>Here’s an example of that from <code class="docutils literal notranslate"><span class="pre">drive_examples.py</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from XRPLib.defaults import *
&gt;&gt;&gt; # Follow the perimeter of a square with variable sidelength
&gt;&gt;&gt; def square(sidelength):
&gt;&gt;&gt; for sides in range(4):
&gt;&gt;&gt;        drivetrain.straight(sidelength, 80)
&gt;&gt;&gt;        drivetrain.turn(90)``
</pre></div>
</div>
</section>
</div>
<div class="toctree-wrapper compound">
<span id="document-installation_check"></span><section id="installation-verification">
<h2>Installation Verification<a class="headerlink" href="#installation-verification" title="Link to this heading">¶</a></h2>
<p>Ensure your device works with this simple test.</p>
</section>
<span id="document-examples"></span><section id="example-code">
<h2>Example Code<a class="headerlink" href="#example-code" title="Link to this heading">¶</a></h2>
<p>Feel free to read through, import, and use any of the below sample code:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">XRPExamples/drive_examples.py</span><a class="headerlink" href="#id1" title="Link to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">XRPLib.defaults</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 5</span><span class="sd">    By the end of this file students will learn how to control the drivetrain,</span>
<span class="linenos"> 6</span><span class="sd">    both by setting effort values directly to the motors and by using go_straight and go_turn</span>
<span class="linenos"> 7</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="c1"># drive straight for a set time period (defualt 1 second)</span>
<span class="linenos">10</span><span class="k">def</span><span class="w"> </span><span class="nf">drive_straight</span><span class="p">(</span><span class="n">drive_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
<span class="linenos">11</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
<span class="linenos">12</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">drive_time</span><span class="p">)</span>
<span class="linenos">13</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="c1"># drive at a slight counter clockwise arc for a set time period (default 1 second)</span>
<span class="linenos">16</span><span class="k">def</span><span class="w"> </span><span class="nf">arc_turn</span><span class="p">(</span><span class="n">turn_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
<span class="linenos">17</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
<span class="linenos">18</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">turn_time</span><span class="p">)</span>
<span class="linenos">19</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="c1"># turn CCW at a point for a set time period (default 1 second)</span>
<span class="linenos">22</span><span class="k">def</span><span class="w"> </span><span class="nf">point_turn</span><span class="p">(</span><span class="n">turn_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
<span class="linenos">23</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="o">-</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
<span class="linenos">24</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">turn_time</span><span class="p">)</span>
<span class="linenos">25</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="c1"># pivot turn around the left wheel for a set time period (default 1 second)</span>
<span class="linenos">28</span><span class="k">def</span><span class="w"> </span><span class="nf">swing_turn</span><span class="p">(</span><span class="n">turn_time</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
<span class="linenos">29</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
<span class="linenos">30</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">turn_time</span><span class="p">)</span>
<span class="linenos">31</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="c1"># Driving in a circle by setting a difference in motor efforts</span>
<span class="linenos">34</span><span class="k">def</span><span class="w"> </span><span class="nf">circle</span><span class="p">():</span>
<span class="linenos">35</span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">36</span>        <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="linenos">37</span>
<span class="linenos">38</span><span class="c1"># Follow the perimeter of a square with variable sidelength</span>
<span class="linenos">39</span><span class="k">def</span><span class="w"> </span><span class="nf">square</span><span class="p">(</span><span class="n">sidelength</span><span class="p">):</span>
<span class="linenos">40</span>    <span class="k">for</span> <span class="n">sides</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
<span class="linenos">41</span>        <span class="n">drivetrain</span><span class="o">.</span><span class="n">straight</span><span class="p">(</span><span class="n">sidelength</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
<span class="linenos">42</span>        <span class="n">drivetrain</span><span class="o">.</span><span class="n">turn</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
<span class="linenos">43</span>    <span class="c1"># Alternatively:</span>
<span class="linenos">44</span>    <span class="c1"># polygon(sidelength, 4)</span>
<span class="linenos">45</span>
<span class="linenos">46</span><span class="c1"># Follow the perimeter of an arbitrary polygon with variable side length and number of sides</span>
<span class="linenos">47</span><span class="c1"># Side length in centimeters</span>
<span class="linenos">48</span><span class="k">def</span><span class="w"> </span><span class="nf">polygon</span><span class="p">(</span><span class="n">side_length</span><span class="p">,</span> <span class="n">number_of_sides</span><span class="p">):</span>
<span class="linenos">49</span>    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">number_of_sides</span><span class="p">):</span>
<span class="linenos">50</span>        <span class="n">drivetrain</span><span class="o">.</span><span class="n">straight</span><span class="p">(</span><span class="n">side_length</span><span class="p">)</span>
<span class="linenos">51</span>        <span class="n">drivetrain</span><span class="o">.</span><span class="n">turn</span><span class="p">(</span><span class="mi">360</span><span class="o">/</span><span class="n">number_of_sides</span><span class="p">)</span>
<span class="linenos">52</span>
<span class="linenos">53</span><span class="c1"># A slightly longer example program showing how a robot may follow a simple path</span>
<span class="linenos">54</span><span class="k">def</span><span class="w"> </span><span class="nf">test_drive</span><span class="p">():</span>
<span class="linenos">55</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Driving forward 25cm&quot;</span><span class="p">)</span>
<span class="linenos">56</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">straight</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
<span class="linenos">57</span>
<span class="linenos">58</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">59</span>
<span class="linenos">60</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;turn 90 degrees right&quot;</span><span class="p">)</span>
<span class="linenos">61</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">turn</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="mf">0.8</span><span class="p">)</span>
<span class="linenos">62</span>
<span class="linenos">63</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">64</span>
<span class="linenos">65</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;turn 90 degrees left by setting speed negative&quot;</span><span class="p">)</span>
<span class="linenos">66</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">turn</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.8</span><span class="p">)</span>
<span class="linenos">67</span>
<span class="linenos">68</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">69</span>
<span class="linenos">70</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;drive backwards 25 cm by setting distance negative&quot;</span><span class="p">)</span>
<span class="linenos">71</span>    <span class="c1"># There is no difference between setting speed or distance negative, both work</span>
<span class="linenos">72</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">straight</span><span class="p">(</span><span class="o">-</span><span class="mi">25</span><span class="p">,</span><span class="mf">0.8</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">XRPExamples/sensor_examples.py</span><a class="headerlink" href="#id2" title="Link to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">XRPLib.defaults</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 5</span><span class="sd">    By the end of this file students will learn how to read and use data from</span>
<span class="linenos"> 6</span><span class="sd">    both the ultrasonic sensors and the line followers.</span>
<span class="linenos"> 7</span><span class="sd">    They will also have a chance to learn the basics of proportional control.</span>
<span class="linenos"> 8</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="c1"># Polling data from the ultrasonic sensor</span>
<span class="linenos">11</span><span class="k">def</span><span class="w"> </span><span class="nf">ultrasonic_test</span><span class="p">():</span>
<span class="linenos">12</span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">13</span>        <span class="nb">print</span><span class="p">(</span><span class="n">rangefinder</span><span class="o">.</span><span class="n">distance</span><span class="p">())</span>
<span class="linenos">14</span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="c1"># Approaches a wall at a set speed and then stops</span>
<span class="linenos">17</span><span class="k">def</span><span class="w"> </span><span class="nf">drive_till_close</span><span class="p">(</span><span class="n">target_distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">):</span>
<span class="linenos">18</span>    <span class="n">speed</span> <span class="o">=</span> <span class="mf">0.6</span>
<span class="linenos">19</span>    <span class="k">while</span> <span class="n">rangefinder</span><span class="o">.</span><span class="n">distance</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">target_distance</span><span class="p">:</span>
<span class="linenos">20</span>        <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">)</span>
<span class="linenos">21</span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="linenos">22</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="linenos">23</span>
<span class="linenos">24</span><span class="c1"># Maintains a certain distance from the wall using proportional control</span>
<span class="linenos">25</span><span class="k">def</span><span class="w"> </span><span class="nf">standoff</span><span class="p">(</span><span class="n">target_distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">):</span>
<span class="linenos">26</span>    <span class="n">KP</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="linenos">27</span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">28</span>        <span class="n">distance</span> <span class="o">=</span> <span class="n">rangefinder</span><span class="o">.</span><span class="n">distance</span><span class="p">()</span>
<span class="linenos">29</span>        <span class="n">error</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">-</span> <span class="n">target_distance</span>
<span class="linenos">30</span>        <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="n">error</span> <span class="o">*</span> <span class="n">KP</span><span class="p">,</span> <span class="n">error</span><span class="o">*</span><span class="n">KP</span><span class="p">)</span>
<span class="linenos">31</span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="c1"># Maintains a certain distance from the wall while driving</span>
<span class="linenos">34</span><span class="c1">#     using proportional control (sensor on right side of robot this time)</span>
<span class="linenos">35</span><span class="k">def</span><span class="w"> </span><span class="nf">wall_follow</span><span class="p">(</span><span class="n">target_distance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">):</span>
<span class="linenos">36</span>    <span class="n">KP</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="linenos">37</span>    <span class="n">base_speed</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="linenos">38</span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">39</span>        <span class="n">distance</span> <span class="o">=</span> <span class="n">rangefinder</span><span class="o">.</span><span class="n">distance</span><span class="p">()</span>
<span class="linenos">40</span>        <span class="n">error</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">-</span> <span class="n">target_distance</span>
<span class="linenos">41</span>        <span class="nb">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="linenos">42</span>        <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="n">base_speed</span> <span class="o">+</span> <span class="n">error</span> <span class="o">*</span> <span class="n">KP</span><span class="p">,</span> <span class="n">base_speed</span> <span class="o">-</span> <span class="n">error</span><span class="o">*</span><span class="n">KP</span><span class="p">)</span>
<span class="linenos">43</span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="linenos">44</span>
<span class="linenos">45</span><span class="c1"># Follows a line using the line followers</span>
<span class="linenos">46</span><span class="k">def</span><span class="w"> </span><span class="nf">line_track</span><span class="p">():</span>
<span class="linenos">47</span>    <span class="n">base_effort</span> <span class="o">=</span> <span class="mf">0.6</span>
<span class="linenos">48</span>    <span class="n">KP</span> <span class="o">=</span> <span class="mf">0.6</span>
<span class="linenos">49</span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">50</span>        <span class="c1"># You always want to take the difference of the sensors because the raw value isn&#39;t always consistent.</span>
<span class="linenos">51</span>        <span class="n">error</span> <span class="o">=</span> <span class="n">reflectance</span><span class="o">.</span><span class="n">get_left</span><span class="p">()</span> <span class="o">-</span> <span class="n">reflectance</span><span class="o">.</span><span class="n">get_right</span><span class="p">()</span>
<span class="linenos">52</span>        <span class="nb">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
<span class="linenos">53</span>        <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="n">base_effort</span> <span class="o">-</span> <span class="n">error</span> <span class="o">*</span> <span class="n">KP</span><span class="p">,</span> <span class="n">base_effort</span> <span class="o">+</span> <span class="n">error</span> <span class="o">*</span> <span class="n">KP</span><span class="p">)</span>
<span class="linenos">54</span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="linenos">55</span>
<span class="linenos">56</span><span class="c1"># Polling data from the IMU</span>
<span class="linenos">57</span><span class="k">def</span><span class="w"> </span><span class="nf">imu_test</span><span class="p">():</span>
<span class="linenos">58</span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">59</span>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Pitch: </span><span class="si">{</span><span class="n">imu</span><span class="o">.</span><span class="n">get_pitch</span><span class="p">()</span><span class="si">}</span><span class="s2">, Heading: </span><span class="si">{</span><span class="n">imu</span><span class="o">.</span><span class="n">get_heading</span><span class="p">()</span><span class="si">}</span><span class="s2">, Roll: </span><span class="si">{</span><span class="n">imu</span><span class="o">.</span><span class="n">get_yaw</span><span class="p">()</span><span class="si">}</span><span class="s2">, Accelerometer output: </span><span class="si">{</span><span class="n">imu</span><span class="o">.</span><span class="n">get_acc_rates</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="linenos">60</span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="linenos">61</span>
<span class="linenos">62</span><span class="k">def</span><span class="w"> </span><span class="nf">climb_ramp</span><span class="p">(</span><span class="n">ramp_angle</span><span class="p">,</span> <span class="n">angle_tolerance</span><span class="o">=</span><span class="mf">3.5</span><span class="p">):</span>
<span class="linenos">63</span>    <span class="n">speed</span> <span class="o">=</span> <span class="mf">0.6</span>
<span class="linenos">64</span>    <span class="c1"># Find ramp by driving forward</span>
<span class="linenos">65</span>    <span class="k">while</span> <span class="n">imu</span><span class="o">.</span><span class="n">get_pitch</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">ramp_angle</span><span class="o">-</span><span class="n">angle_tolerance</span><span class="p">:</span>
<span class="linenos">66</span>        <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">)</span>
<span class="linenos">67</span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
<span class="linenos">68</span>    <span class="c1"># Drive up ramp until angle levels out again</span>
<span class="linenos">69</span>    <span class="k">while</span> <span class="n">imu</span><span class="o">.</span><span class="n">get_pitch</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">ramp_angle</span><span class="o">-</span><span class="n">angle_tolerance</span><span class="p">:</span>
<span class="linenos">70</span>        <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">)</span>
<span class="linenos">71</span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>
<span class="linenos">72</span>    <span class="c1"># Then stop</span>
<span class="linenos">73</span>    <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="linenos">74</span>
<span class="linenos">75</span><span class="n">ultrasonic_test</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">XRPExamples/led_example.py</span><a class="headerlink" href="#id3" title="Link to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">XRPLib.board</span><span class="w"> </span><span class="kn">import</span> <span class="n">Board</span>
<span class="linenos"> 2</span><span class="kn">from</span><span class="w"> </span><span class="nn">machine</span><span class="w"> </span><span class="kn">import</span> <span class="n">Timer</span><span class="p">,</span> <span class="n">Pin</span>
<span class="linenos"> 3</span><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="c1"># Get a reference to the board</span>
<span class="linenos"> 6</span><span class="n">board</span> <span class="o">=</span> <span class="n">Board</span><span class="o">.</span><span class="n">get_default_board</span><span class="p">()</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="c1"># Create a timer for the RGB LED, assuming it&#39;s present on this board</span>
<span class="linenos"> 9</span><span class="n">rgb_led_timer</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="c1"># Conversion from hue to RGB</span>
<span class="linenos">12</span><span class="k">def</span><span class="w"> </span><span class="nf">hue_to_rgb</span><span class="p">(</span><span class="n">hue</span><span class="p">):</span>
<span class="linenos">13</span>    <span class="c1"># Initialize RGB values</span>
<span class="linenos">14</span>    <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">15</span>    <span class="n">g</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">16</span>    <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">17</span>    
<span class="linenos">18</span>    <span class="c1"># Ensure hue is in range of [0,360)</span>
<span class="linenos">19</span>    <span class="n">hue</span> <span class="o">%=</span> <span class="mi">360</span>
<span class="linenos">20</span>    
<span class="linenos">21</span>    <span class="k">if</span><span class="p">(</span><span class="n">hue</span> <span class="o">&lt;</span> <span class="mi">120</span><span class="p">):</span>
<span class="linenos">22</span>        <span class="c1"># Red to green region</span>
<span class="linenos">23</span>        <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="mi">120</span> <span class="o">-</span> <span class="n">hue</span><span class="p">)</span> <span class="o">/</span> <span class="mi">120</span> <span class="o">*</span> <span class="mi">255</span>
<span class="linenos">24</span>        <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">hue</span> <span class="o">-</span>   <span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="mi">120</span> <span class="o">*</span> <span class="mi">255</span>
<span class="linenos">25</span>        <span class="n">b</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">26</span>    <span class="k">elif</span><span class="p">(</span><span class="n">hue</span> <span class="o">&lt;</span> <span class="mi">240</span><span class="p">):</span>
<span class="linenos">27</span>        <span class="c1"># Green to blue region</span>
<span class="linenos">28</span>        <span class="n">hue</span> <span class="o">-=</span> <span class="mi">120</span>
<span class="linenos">29</span>        <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">30</span>        <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="mi">120</span> <span class="o">-</span> <span class="n">hue</span><span class="p">)</span> <span class="o">/</span> <span class="mi">120</span> <span class="o">*</span> <span class="mi">255</span>
<span class="linenos">31</span>        <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">hue</span> <span class="o">-</span>   <span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="mi">120</span> <span class="o">*</span> <span class="mi">255</span>
<span class="linenos">32</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">33</span>        <span class="c1"># Blue to red region</span>
<span class="linenos">34</span>        <span class="n">hue</span> <span class="o">-=</span> <span class="mi">240</span>
<span class="linenos">35</span>        <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">hue</span> <span class="o">-</span>   <span class="mi">0</span><span class="p">)</span> <span class="o">/</span> <span class="mi">120</span> <span class="o">*</span> <span class="mi">255</span>
<span class="linenos">36</span>        <span class="n">g</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">37</span>        <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">120</span> <span class="o">-</span> <span class="n">hue</span><span class="p">)</span> <span class="o">/</span> <span class="mi">120</span> <span class="o">*</span> <span class="mi">255</span>
<span class="linenos">38</span>    
<span class="linenos">39</span>    <span class="c1"># Return RGB as tuple of integers in range of [0,255]</span>
<span class="linenos">40</span>    <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="linenos">41</span>
<span class="linenos">42</span><span class="k">def</span><span class="w"> </span><span class="nf">update_rgb_led_rainbow</span><span class="p">(</span><span class="n">timer</span><span class="p">):</span>
<span class="linenos">43</span>    <span class="c1"># Set hue based on current time. Hue is an angle up to 360 degrees,</span>
<span class="linenos">44</span>    <span class="c1"># so using the milliseconds divided by 10 creates a rainbow that</span>
<span class="linenos">45</span>    <span class="c1"># repeats every 3.6 seconds</span>
<span class="linenos">46</span>    <span class="n">hue</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">ticks_ms</span><span class="p">()</span> <span class="o">/</span> <span class="mi">10</span>
<span class="linenos">47</span>    
<span class="linenos">48</span>    <span class="c1"># Compute RGB values</span>
<span class="linenos">49</span>    <span class="n">rgb</span> <span class="o">=</span> <span class="n">hue_to_rgb</span><span class="p">(</span><span class="n">hue</span><span class="p">)</span>
<span class="linenos">50</span>    
<span class="linenos">51</span>    <span class="c1"># Max brightness is blinding, so recompute RGB values with 10% brightness</span>
<span class="linenos">52</span>    <span class="n">brightness</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="linenos">53</span>    <span class="n">r</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">brightness</span><span class="p">)</span>
<span class="linenos">54</span>    <span class="n">g</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">brightness</span><span class="p">)</span>
<span class="linenos">55</span>    <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">brightness</span><span class="p">)</span>
<span class="linenos">56</span>    
<span class="linenos">57</span>    <span class="c1"># Set the RGB LED color</span>
<span class="linenos">58</span>    <span class="n">board</span><span class="o">.</span><span class="n">set_rgb_led</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="linenos">59</span>
<span class="linenos">60</span><span class="k">def</span><span class="w"> </span><span class="nf">start_led_demo</span><span class="p">():</span>
<span class="linenos">61</span>    <span class="c1"># Make the monochrome LED start blinking</span>
<span class="linenos">62</span>    <span class="n">board</span><span class="o">.</span><span class="n">led_blink</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">63</span>    
<span class="linenos">64</span>    <span class="c1"># If this board has an RGB LED, make it start changing colors</span>
<span class="linenos">65</span>    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">Pin</span><span class="o">.</span><span class="n">board</span><span class="p">,</span> <span class="s2">&quot;BOARD_NEOPIXEL&quot;</span><span class="p">):</span>
<span class="linenos">66</span>        <span class="c1"># Set up timer to update the RGB LED at 100Hz for smooth color changes</span>
<span class="linenos">67</span>        <span class="n">rgb_led_timer</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">callback</span> <span class="o">=</span> <span class="n">update_rgb_led_rainbow</span><span class="p">)</span>
<span class="linenos">68</span>
<span class="linenos">69</span><span class="k">def</span><span class="w"> </span><span class="nf">stop_led_demo</span><span class="p">():</span>
<span class="linenos">70</span>    <span class="c1"># Make the monochrome LED stop blinking and turn off the LED</span>
<span class="linenos">71</span>    <span class="n">board</span><span class="o">.</span><span class="n">led_blink</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">72</span>    <span class="n">board</span><span class="o">.</span><span class="n">led_off</span><span class="p">()</span>
<span class="linenos">73</span>    
<span class="linenos">74</span>    <span class="c1"># If this board has an RGB LED, stop the timer and turn off the LED</span>
<span class="linenos">75</span>    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">Pin</span><span class="o">.</span><span class="n">board</span><span class="p">,</span> <span class="s2">&quot;BOARD_NEOPIXEL&quot;</span><span class="p">):</span>
<span class="linenos">76</span>        <span class="n">rgb_led_timer</span><span class="o">.</span><span class="n">deinit</span><span class="p">()</span>
<span class="linenos">77</span>        <span class="n">board</span><span class="o">.</span><span class="n">set_rgb_led</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="linenos">78</span>
<span class="linenos">79</span><span class="n">start_led_demo</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">XRPExamples/webserver_example.py</span><a class="headerlink" href="#id4" title="Link to this code">¶</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span><span class="w"> </span><span class="nn">XRPLib.defaults</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="linenos"> 3</span><span class="kn">from</span><span class="w"> </span><span class="nn">machine</span><span class="w"> </span><span class="kn">import</span> <span class="n">Timer</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="c1"># Binding functions to the arrow buttons</span>
<span class="linenos"> 6</span><span class="n">webserver</span><span class="o">.</span><span class="n">registerForwardButton</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
<span class="linenos"> 7</span><span class="n">webserver</span><span class="o">.</span><span class="n">registerLeftButton</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
<span class="linenos"> 8</span><span class="n">webserver</span><span class="o">.</span><span class="n">registerRightButton</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">))</span>
<span class="linenos"> 9</span><span class="n">webserver</span><span class="o">.</span><span class="n">registerBackwardButton</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">))</span>
<span class="linenos">10</span><span class="n">webserver</span><span class="o">.</span><span class="n">registerStopButton</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">drivetrain</span><span class="o">.</span><span class="n">set_effort</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="c1"># Binding functions to custom buttons</span>
<span class="linenos">13</span><span class="n">webserver</span><span class="o">.</span><span class="n">add_button</span><span class="p">(</span><span class="s2">&quot;Close Server&quot;</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">webserver</span><span class="o">.</span><span class="n">stop_server</span><span class="p">())</span>
<span class="linenos">14</span><span class="n">webserver</span><span class="o">.</span><span class="n">add_button</span><span class="p">(</span><span class="s2">&quot;Blink&quot;</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">board</span><span class="o">.</span><span class="n">led_blink</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="linenos">15</span><span class="n">webserver</span><span class="o">.</span><span class="n">add_button</span><span class="p">(</span><span class="s2">&quot;LED Off&quot;</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">board</span><span class="o">.</span><span class="n">led_off</span><span class="p">())</span>
<span class="linenos">16</span><span class="n">webserver</span><span class="o">.</span><span class="n">add_button</span><span class="p">(</span><span class="s2">&quot;Servo Up&quot;</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">servo_one</span><span class="o">.</span><span class="n">set_angle</span><span class="p">(</span><span class="mi">90</span><span class="p">))</span>
<span class="linenos">17</span><span class="n">webserver</span><span class="o">.</span><span class="n">add_button</span><span class="p">(</span><span class="s2">&quot;Servo Down&quot;</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">servo_one</span><span class="o">.</span><span class="n">set_angle</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="c1"># Logging static data to the webserver</span>
<span class="linenos">20</span><span class="c1"># webserver.log_data(&quot;test&quot;, &quot;test&quot;)</span>
<span class="linenos">21</span><span class="c1"># webserver.log_data(&quot;List&quot;, [1,2,3])</span>
<span class="linenos">22</span><span class="c1"># webserver.log_data(&quot;Dict&quot;, {&quot;a&quot;:1,&quot;b&quot;:2,&quot;c&quot;:3})</span>
<span class="linenos">23</span><span class="c1"># webserver.log_data(&quot;Tuple&quot;, (1,2,3))</span>
<span class="linenos">24</span>
<span class="linenos">25</span><span class="k">def</span><span class="w"> </span><span class="nf">log_time_and_range</span><span class="p">():</span>
<span class="linenos">26</span>    <span class="c1"># This function is called every second to update the data on the webserver</span>
<span class="linenos">27</span>    <span class="n">webserver</span><span class="o">.</span><span class="n">log_data</span><span class="p">(</span><span class="s2">&quot;Time&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span>
<span class="linenos">28</span>    <span class="n">webserver</span><span class="o">.</span><span class="n">log_data</span><span class="p">(</span><span class="s2">&quot;Range&quot;</span><span class="p">,</span> <span class="n">rangefinder</span><span class="o">.</span><span class="n">distance</span><span class="p">())</span>
<span class="linenos">29</span>    <span class="n">webserver</span><span class="o">.</span><span class="n">log_data</span><span class="p">(</span><span class="s2">&quot;Left Motor&quot;</span><span class="p">,</span> <span class="n">left_motor</span><span class="o">.</span><span class="n">get_position</span><span class="p">())</span>
<span class="linenos">30</span>    <span class="n">webserver</span><span class="o">.</span><span class="n">log_data</span><span class="p">(</span><span class="s2">&quot;Right Motor&quot;</span><span class="p">,</span> <span class="n">right_motor</span><span class="o">.</span><span class="n">get_position</span><span class="p">())</span>
<span class="linenos">31</span>    <span class="n">webserver</span><span class="o">.</span><span class="n">log_data</span><span class="p">(</span><span class="s2">&quot;Button State&quot;</span><span class="p">,</span> <span class="n">board</span><span class="o">.</span><span class="n">is_button_pressed</span><span class="p">())</span>
<span class="linenos">32</span>
<span class="linenos">33</span><span class="n">timer</span> <span class="o">=</span> <span class="n">Timer</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos">34</span><span class="n">timer</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">freq</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="n">Timer</span><span class="o">.</span><span class="n">PERIODIC</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="k">lambda</span> <span class="n">t</span><span class="p">:</span> <span class="n">log_time_and_range</span><span class="p">())</span>
<span class="linenos">35</span>
<span class="linenos">36</span><span class="k">def</span><span class="w"> </span><span class="nf">connect_and_start_webserver</span><span class="p">():</span>
<span class="linenos">37</span>    <span class="c1"># Connect to the network and start the webserver in bridge mode</span>
<span class="linenos">38</span>    <span class="c1"># Network ssid and password are stored in root/secrets.json</span>
<span class="linenos">39</span>    <span class="n">webserver</span><span class="o">.</span><span class="n">connect_to_network</span><span class="p">()</span>
<span class="linenos">40</span>    <span class="n">webserver</span><span class="o">.</span><span class="n">start_server</span><span class="p">()</span>
<span class="linenos">41</span>
<span class="linenos">42</span><span class="k">def</span><span class="w"> </span><span class="nf">start_network_and_webserver</span><span class="p">():</span>
<span class="linenos">43</span>    <span class="c1"># Start the webserver in access point mode</span>
<span class="linenos">44</span>    <span class="c1"># Network ssid and password are stored in root/secrets.json</span>
<span class="linenos">45</span>    <span class="n">webserver</span><span class="o">.</span><span class="n">start_network</span><span class="p">()</span>
<span class="linenos">46</span>    <span class="n">webserver</span><span class="o">.</span><span class="n">start_server</span><span class="p">()</span>
<span class="linenos">47</span>
<span class="linenos">48</span><span class="n">start_network_and_webserver</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
</div>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Link to this heading">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="#">Table of Contents</a></h3>
    <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#document-index">XRPLib - Table of Contents</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Code Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-api">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#document-api#hardware">Hardware</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#document-api#XRPLib.motor.SinglePWMMotor"><code class="docutils literal notranslate"><span class="pre">SinglePWMMotor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-api#XRPLib.motor.DualPWMMotor"><code class="docutils literal notranslate"><span class="pre">DualPWMMotor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-api#XRPLib.encoded_motor.EncodedMotor"><code class="docutils literal notranslate"><span class="pre">EncodedMotor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-api#XRPLib.motor_group.MotorGroup"><code class="docutils literal notranslate"><span class="pre">MotorGroup</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-api#XRPLib.servo.Servo"><code class="docutils literal notranslate"><span class="pre">Servo</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#document-api#sensors">Sensors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#document-api#XRPLib.encoder.Encoder"><code class="docutils literal notranslate"><span class="pre">Encoder</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-api#XRPLib.rangefinder.Rangefinder"><code class="docutils literal notranslate"><span class="pre">Rangefinder</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-api#XRPLib.reflectance.Reflectance"><code class="docutils literal notranslate"><span class="pre">Reflectance</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#document-api#miscellaneous">Miscellaneous</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#document-api#XRPLib.controller.Controller"><code class="docutils literal notranslate"><span class="pre">Controller</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-api#XRPLib.pid.PID"><code class="docutils literal notranslate"><span class="pre">PID</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-api#XRPLib.timeout.Timeout"><code class="docutils literal notranslate"><span class="pre">Timeout</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#document-api#XRPLib.webserver.Webserver"><code class="docutils literal notranslate"><span class="pre">Webserver</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#document-defaults">XRPLib.defaults</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="#document-installation_check">Installation Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="#document-examples">Example Code</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Curriculum</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://introtoroboticsv2.readthedocs.io">XRP Curriculum</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xrpusersguide.readthedocs.io/en/latest/course/introduction.html">XRP User Guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Open-STEM/XRP_MicroPython/releases/latest">XRPLib on GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xrp.discourse.group">XRP Support Forum</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://micropython.org/download/">Download MicroPython</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.micropython.org/en/latest/">MicroPython Reference Documentation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/orgs/micropython/discussions">MicroPython Support Forum</a></li>
</ul>

  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="#">XRPLib - MicroPython 2.0.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">XRPLib - MicroPython 2.0.0 documentation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2023 - 2025 Open STEM Authors.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>